# CATAPULT (catapult)

**タグ**: on_pressed-reverse_state, rule-physics, field-bottomless, field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 押す / 離す |
| 挙動 | 棒の上でボールが移動、押すと左端へ、離すと右端へ、端から投げて次の棒に着地 |
| 終了条件 | 画面下に落ちる、または画面左端を超える |
| スコア | 棒に着地すると基本得点、棒を通過（着地せずに）すると連続通過数×10点追加 |
| 難易度 | 時間経過でスクロール速度増加、重力増加（0.1×difficulty） |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| ball | box(5,5) 黒 | 棒の上で左右移動、空中では放物線運動 | - |
| bar | bar(20-30, 3) 黒 | 自動スクロールで左に移動、押す状態で角度変化（45°/-45°） | 着地、得点 |
| trajectory | box(3,3) 薄赤/薄黒 | ボールの予測軌道を5フレーム毎に表示、危険位置で赤色 | - |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | ボールと棒だけの極めてシンプルな構成、押す/離すで移動方向が反転する直感的な操作 |
| (2) 視覚的フィードバック | 投擲前の軌道予測表示、危険位置での赤色警告、棒の角度変化、基本得点の常時表示 |
| (3) リスク・リワード | 棒を通過すると高得点だが失敗リスク大、長く滞在すると基本得点減少、早投げと精密狙いの選択 |
| (4) 斬新なメカニクス | 押す/離すで移動方向が反転、棒の角度が入力状態で変化、通過ボーナスの連続カウント、軌道予測の視覚化 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| on_pressed-reverse_state | 押すと左端へ(-1方向)、離すと右端へ(+1方向)に移動、棒の角度も変化 | 状態反転による精密なタイミング制御、押す/離すの切り替え習熟、角度変化の予測 |
| rule-physics | 重力(0.1×difficulty)、放物線運動、速度ベクトルの計算 | 物理法則に基づく投擲タイミングの習熟、軌道予測による戦略的投擲 |
| field-bottomless | 画面下(y>99)に落ちるとゲームオーバー | 安全な投擲タイミングの見極め、高リスク投擲の回避戦略 |
| field-auto_scroll | 画面が自動的に左にスクロール（0.05×difficulty + 位置補正） | 時間的プレッシャー、画面左端(x<0)でもゲームオーバー、前進を強制 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 棒を雲や鳥に変えて空中移動ゲームに / 重力を反転させて上昇ゲームに |
| Combine (結合) | 複数のボールを同時操作 / 棒に特殊効果（バネ、回転など）を追加 |
| Modify (修正) | 棒の幅をランダムではなく徐々に狭くする / 通過ボーナスの倍率を上げてリスクリターンを強化 / 軌道予測を削除して難易度アップ |

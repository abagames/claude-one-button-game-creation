# NUMBER BALL (number_ball)

**タグ**: #on_holding-adjust_angle, #on_released-throw, #rule-match, #rule-mathematics, #weapon-artillery, #field-outpost, #field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 長押し（発射角度を調整）/ 離す（ボール発射） |
| 挙動 | 1-9の数字が付いたボールを砲台から発射、物理演算でバウンドし床に着地。床に記された数字と同じ数字のボールが着地すると床が消える |
| 終了条件 | 左端の赤い境界線まで床が到達 |
| スコア | 床を消すと数字×multiplierの得点、マッチ成功でmultiplierが2倍に（最大16倍）、発射時はmultiplierが半減 |
| 難易度 | difficultyに応じてスクロール速度と数字の最大値（1-9）が増加 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| cannon | rect(green/white) | 左端に固定された砲台、長押しで発射角度を調整 | - |
| balls | text(数字, blue) | 砲台から発射され、重力とバウンドの物理演算で移動、床に着地 | ボール同士は反発 |
| floors | rect(light_green) + text(数字, red) | 右から出現し左へスクロール、数字が記されている、同じ数字のボールが着地すると消滅 | - |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 数字のマッチングという誰でも理解できるルール、色分け（砲台緑、ボール青、床緑、数字赤）で役割明確 |
| (2) 視覚的フィードバック | マッチ成功時の効果音とスコア表示、multiplier表示で連鎖ボーナスを明示、発射角度の視覚的ガイドライン |
| (3) リスク・リワード | 発射するとmultiplierが半減するが、マッチすると2倍に増加。連続マッチで最大16倍の高得点を狙える |
| (4) 斬新なメカニクス | 数字マッチング+物理ベースの砲撃+auto-scrollの3要素の組み合わせ。multiplierの増減が戦略的な緊張感を生む |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| #on_holding-adjust_angle | 長押しで発射角度を反時計回りに回転（-0.01ラジアン/フレーム） | 床の配置と移動速度を予測し、着地点を正確に狙う必要がある |
| #on_released-throw | ボタンを離すとボールを発射（速度5倍） | タイミングが重要、早すぎても遅すぎても目標に届かない |
| #rule-match | 床の数字とボールの数字が一致すると床が消える | どの数字のボールをどの順番で発射するかの戦略的判断が求められる |
| #rule-mathematics | 1-9の数字を使った数値マッチング | 床とボールの数字の組み合わせを記憶し、効率的にマッチングする必要がある |
| #weapon-artillery | 砲台からボールを放物線で発射 | 物理演算による軌道予測が重要、バウンドも考慮する必要がある |
| #field-outpost | 砲台が左端に固定され、右から床が出現 | 砲台の位置が固定されているため、角度調整のみで対応する制約 |
| #field-auto_scroll | 右から左へ床が自動スクロール、difficultyで速度増加 | 時間制限的なプレッシャー、スクロール速度を考慮した着地点予測が必要 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 数字を色や図形に置き換え、視覚的なマッチングゲームに変化させる |
| Combine (結合) | 複数の数字を組み合わせて計算式を作る要素を追加（例: 2+3=5の床を消す） |
| Modify (修正) | 発射角度だけでなく発射力も調整可能にし、より精密な軌道制御を可能にする |

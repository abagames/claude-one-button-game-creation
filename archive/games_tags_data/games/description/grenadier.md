# GRENADIER (grenadier)

**タグ**: #weapon-change_field, #field-holes, #weapon-artillery, #on_holding-adjust_angle, #on_released-throw, #field-1D, #field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | タップ（穴から出る） / 長押し（角度調整） / 離す（手榴弾投擲） |
| 挙動 | 穴に隠れながら戦車を避け、手榴弾で破壊。手榴弾が着弾すると新しい穴ができる |
| 終了条件 | 戦車または弾丸に接触 |
| スコア | 戦車破壊時に x座標 × 1点 |
| 難易度 | 時間経過で戦車の速度と射撃頻度が増加 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player（穴の中） | char("a") black | 穴の中で安全。タップで穴から出る | 戦車接触: ゲームオーバー |
| player（走行中） | char("c"/"d") black | 地面を右に走る。穴に到達すると潜る | 戦車/弾丸接触: ゲームオーバー |
| player（投擲中） | char("b") + line black | 長押しで角度調整、離すと手榴弾投擲 | 戦車/弾丸接触: ゲームオーバー |
| holes（穴） | box(6,10) white | 地面の穴。プレイヤーが隠れる場所 | 戦車が通過: 穴消滅 |
| tanks（戦車） | char("e") red | 右から左に移動。一定間隔で弾丸発射 | 手榴弾接触: 破壊、スコア加算 |
| bullets（弾丸） | char("f") red | 戦車から発射され、左に移動 | プレイヤー接触: ゲームオーバー |
| grenades（手榴弾） | text("o") black | 放物線を描いて飛ぶ。地面着弾で爆発 | 戦車接触: 破壊 / 地面着弾: 新しい穴生成 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 「穴に隠れる」「走る」「投げる」の3状態が明確。角度調整ラインで投擲方向が視覚化 |
| (2) 視覚的フィードバック | 状態ごとに異なるキャラクター表示、手榴弾の放物線、爆発パーティクル、穴の生成演出 |
| (3) リスク・リワード | 穴から出て戦車に近づくほど高得点だが、被弾リスク増。投擲で新しい穴を作れるが、タイミングミスは即死 |
| (4) 斬新なメカニクス | 手榴弾で地形（穴）を動的に生成する独自システム。3状態の切り替えによる戦略的深さ。speedRatio による時間制御 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| weapon-change_field | 手榴弾が地面に着弾すると新しい穴（フィールド）を生成 | 安全地帯を自ら作り出す戦略。どこに穴を作るかが重要 |
| field-holes | 地面に穴があり、隠れることができる | 穴の位置と間隔が生存の鍵。穴がないと無防備 |
| weapon-artillery | 手榴弾を放物線で投擲する砲撃武器 | 角度と距離の計算が必要。習熟で精度が向上 |
| on_holding-adjust_angle | 長押しで投擲角度が徐々に変化 | 最適な角度を見極めるタイミング判断。角度で距離と高さが変わる |
| on_released-throw | ボタンを離すと手榴弾を投擲 | リリースタイミングで成否が決まる。緊張感のある瞬間的判断 |
| field-1D | 横一列の地面のみ（1次元的なフィールド） | 上下移動がなく、左右の位置関係のみが重要。シンプルな空間把握 |
| field-auto_scroll | 戦車とプレイヤーの相対速度でスクロール | 戦車に追いつかれないよう前進し続ける必要がある |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 手榴弾を「ロープ」に変更。着弾点にロープを張って戦車を止める |
| Combine (結合) | 穴の深さをランダムに。深い穴は安全だが脱出に時間がかかる |
| Modify (修正) | 戦車が穴を埋める能力を持つ。穴が時間経過で消滅し、常に新しい穴を作る必要がある |

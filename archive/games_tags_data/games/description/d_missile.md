# D MISSILE (d_missile)

**タグ**: rule-control_weapons, obstacle-split, on_holding-rotate, on_pressed-shoot, player-multiple, field-outpost

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | タップで発射 / ホールドで回転 |
| 挙動 | タップ+リリースでミサイル発射、長押しで全ミサイルが回転。最大3発まで同時制御可能 |
| 終了条件 | 敵が地面（y=90）に到達 |
| スコア | 敵破壊時に乗算スコア（multiplier）獲得。同一グループ撃破で乗算値上昇 |
| 難易度 | ミサイル速度増加、敵の出現頻度・速度増加、分裂までの時間短縮 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player (missile) | bar(3,3) + box(5) | 発射角度から加速しながら直進。ホールド中は回転 | - |
| enemy (before split) | box(4) + line(軌跡) | 地面に向かって移動。一定時間後に2-4個に分裂 | +multiplier点 |
| enemy (after split) | box(4) + line(軌跡) | 地面に向かって移動。分裂なし | +multiplier点 |
| ground | rect(0,90,100,10) | 固定 | 敵到達でゲームオーバー |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | ミサイルは青、敵は赤、地面は黒。タップでミサイル発射、ホールドで回転という直感的な操作。軌跡表示で敵の動きが予測可能 |
| (2) 視覚的フィードバック | 敵の分裂タイミングが時間で管理され、分裂時に音と視覚効果。multiplier値が画面左上に表示され、成功のフィードバックが明確 |
| (3) リスク・リワード | 複数ミサイル展開で広範囲カバーするか、1発集中で高multiplier維持するかの選択。分裂前に倒すと同一グループ全滅でボーナス |
| (4) 斬新なメカニクス | 複数の自律移動ミサイルを同時にホールド操作で制御。分裂する敵の「グループID」概念により、戦略的な優先順位付けが必要 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| rule-control_weapons | ミサイルが発射後も操作可能 | プレイヤーは発射タイミングと回転制御の両方を管理し、動的に狙いを調整できる |
| obstacle-split | 敵が時間経過で分裂 | 分裂前に倒すインセンティブを生み、時間制限のプレッシャーと優先順位判断を要求 |
| on_holding-rotate | ホールド中にミサイルが回転 | 複数ミサイルの軌道を同時調整する独特の操作感。タップ/ホールドの切り替えが戦略の鍵 |
| on_pressed-shoot | タップでミサイル発射 | 発射タイミングの選択。最大3発の制限により、リソース管理の要素を追加 |
| player-multiple | 最大3発のミサイルを同時制御 | 広範囲カバーと高multiplier維持のトレードオフ。複数ミサイル管理の複雑性と爽快感 |
| field-outpost | 地面（基地）防衛 | 敵の侵入を防ぐ明確な目標。地面到達が即座にゲームオーバーという緊張感 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | ミサイルを「引力フィールド」に置き換え、敵を引き寄せて中央で破壊。分裂敵は引力に抵抗する |
| Combine (結合) | weapon:auto_aimingを追加し、ホールド時間に応じて自動追尾精度が上昇。長押しリスクと精度のトレードオフ |
| Modify (修正) | 分裂後の敵が元の敵に向かって収束し、再合体するメカニクス。分裂中に全滅させる時間制限をより明確に |

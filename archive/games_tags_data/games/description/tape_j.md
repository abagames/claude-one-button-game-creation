# TAPE J (tape_j)

**タグ**: #on_holding-extend, #obstacle-fall, #field-roughness, #field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 長押しでテープ伸長、離すと巻き取り |
| 挙動 | 自動左スクロール、障害物に接触時に上→横→下と包み込み、巻き取りでスコア獲得 |
| 終了条件 | テープ先端が画面左端に到達、または火の玉がテープ/ヘッドに接触 |
| スコア | テープ離脱時に sqrt(dist) * dist * 0.1 + 1、長く伸ばすほど高得点 |
| 難易度 | 時間経過でスクロール速度、火の玉出現頻度・速度が増加、テープ伸長速度も上昇 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| head (先端) | box(3,3) 紫 | 長押しで伸長（ground→up→top→down→ground）、離すと巻き取り | - |
| joint (根元) | box(5,5) 薄黄 | テープ根元、巻き取り時に先端に追従 | 火の玉接触でゲームオーバー |
| tape | line(3) 黒 | ヘッドから根元への軌跡、巻き取り時に縮小 | 火の玉接触でゲームオーバー |
| rect (障害物) | rect 薄黒 | 右から出現、地面から様々な高さ、テープ先端が接触すると包み込み開始 | 包まれると固定、スクロールで左へ消失 |
| fire (火の玉) | box 赤 | 右上から放物線で降下、パーティクル放出 | テープ/ヘッド：ゲームオーバー、地面/障害物：消滅 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | テープの伸縮と巻き取りのアニメーション、障害物包み込みの視覚的フィードバックが直感的、色分けで危険明示 |
| (2) 視覚的フィードバック | テープ伸長の段階的色変化なし、巻き取り時の高速化、スコア表示、火の玉のパーティクルで危険を強調 |
| (3) リスク・リワード | 長く伸ばすほど高得点だが火の玉被弾リスク増加、巻き取りタイミングで得点確定、障害物スキップ vs 包み込み |
| (4) 斬新なメカニクス | テープの段階的包み込み（4段階：上→横→下→地面復帰）、長押し継続で得点係数増加、自動スクロールとの競争 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| #on_holding-extend | 長押しでテープ伸長（dist += difficulty）、4段階で障害物包み込み | 長時間保持で高得点、ただし火の玉リスク増加、包み込み完了まで離せないプレッシャー |
| #obstacle-fall | 火の玉が右上から放物線で降下（vel.mul(difficulty)）、テープ/ヘッド接触で即死 | 巻き取りタイミング判断、伸長中の位置取り、地面/障害物で防げる読み合い |
| #field-roughness | 地面から不規則な高さの障害物（rect, 10-50高さ, 20-40幅）が出現 | 包み込み時間が変動、高い障害物は長押し必須、リズム崩しで緊張維持 |
| #field-auto_scroll | 左スクロール（scr = difficulty * 0.1 + (head.to.x - 50) * 0.1）、ヘッド位置依存で加速 | 前進プレッシャー、ヘッドが後退すると即死、攻撃的プレイを強制、難易度上昇で加速 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 火の玉を味方アイテムに変換、テープで包むとシールド生成または一時的なスロー効果 |
| Combine (結合) | テープ色を距離で変化させ、特定色で包むとボーナス、または複数障害物同時包みでコンボ |
| Modify (修正) | 離した瞬間のテープ長さで攻撃判定、火の玉を弾き返す、または巻き取り速度を手動制御可能に |

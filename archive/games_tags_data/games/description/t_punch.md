# T PUNCH (t_punch)

**タグ**: #on_pressed-attack, #on_holding-rotate, #on_holding-extend

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | タップで攻撃、長押しでアーム伸長&回転加速 |
| 挙動 | 中央から放射状に伸びる回転アームで敵を破壊、ボーナスを回収してマルチプライヤー獲得 |
| 終了条件 | 全てのアームが破壊される、または敵が中央のコアに到達 |
| スコア | ボーナス回収で加点、連続回収でマルチプライヤー（タップでリセット）、攻撃時破壊でアーム復活 |
| 難易度 | 時間経過で敵の出現頻度と移動速度が増加、アームの伸長・回転速度も上昇 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player (core) | char("c") | 画面中央(50,50)に固定 | 敵接触でゲームオーバー |
| arm | box(sz) x5 | コアから放射状に6本、回転・伸縮、先端は攻撃時に赤く拡大 | 敵接触で破壊（攻撃時以外） |
| enemy | char("a") | 画面端からスポーン、コアに向かって移動、距離30以上で加速 | 赤アーム：破壊+ボーナス生成、シアンアーム：破壊（アームも消失） |
| bonus | char("b") | 敵破壊時に16個放射状に飛散、コアに引き寄せられる | 60tick後に回収可能、マルチプライヤースコア獲得 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 中央のコアと回転するシアンアーム、赤く光る攻撃状態が視覚的に明確。敵の動きと色分けで危険が一目瞭然 |
| (2) 視覚的フィードバック | 攻撃時の赤色拡大、敵破壊時のボーナス飛散、アーム消失のパーティクル、マルチプライヤー表示でリワード明示 |
| (3) リスク・リワード | タップで攻撃＆マルチプライヤーリセット、長押しで広範囲カバー＆危険増加、タイミング判断が得点に直結 |
| (4) 斬新なメカニクス | 複数アームの同時回転制御、攻撃/防御の二択入力、マルチプライヤーと攻撃のトレードオフ、アーム復活システム |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| #on_pressed-attack | タップで先端が赤く拡大し攻撃状態に、敵を破壊してボーナス生成とアーム復活 | マルチプライヤーをリセットする代わりに確実な破壊とアーム復活、攻撃的プレイとリスク管理の選択 |
| #on_holding-rotate | 長押しで回転速度が加速（av += sqrt(difficulty) * 0.001）、広範囲をカバー | 高速回転で防御範囲拡大、ただしアームが伸びて被弾リスクも増加、攻守のバランス調整 |
| #on_holding-extend | 長押しでアーム長が36まで伸長（length += (36 - length) * 0.1 * sqrt(difficulty)）、離すと縮小 | リーチ拡大で遠距離対応、ボーナス回収範囲も広がるが敵接触面積も増加、展開タイミングの判断 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | アーム数を可変にして、破壊されるたびに増える/減る、または回収アイテムでアーム追加・強化システム |
| Combine (結合) | タイミングゲーム要素を追加し、完全同期タップで全アームが一斉攻撃・敵を一掃するフィーバーモード |
| Modify (修正) | 長押し時間で攻撃属性変化（短押し：単発高威力、長押し：連続低威力）、またはアーム個別に伸縮タイミングをずらす |

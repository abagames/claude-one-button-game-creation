# TOTOGE (totoge)

**タグ**: #player-limited_vision, #on_pressed-jump, #field-spike, #field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | タップでジャンプ（落下中のみ） |
| 挙動 | 左右自動往復、重力で落下、上方向にスクロール、スパイク回避、落下速度でスコア |
| 終了条件 | スパイク接触 |
| スコア | 壁通過で+1、ジャンプ時に落下速度^2 * difficulty^2 が10超で加点（高速落下ほど高得点） |
| 難易度 | 時間経過でプレイヤー速度、重力、スパイク出現頻度が増加 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player | char("a","b") 黒 | 左右自動往復（vx: ±0.33d）、重力0.05、壁反転 | - |
| spike | char("c") x複数 黒 | 上から降下（2-4個連結）、左右ジグザグ配置、スクロールで下へ | 接触または高速落下軌道上でゲームオーバー |
| wall | box(8,8) 薄青 | 左右端に10単位間隔で配置、スクロールで下へ | 通過で+1得点 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 左右往復の単純動作、スパイクの視覚的危険、ジャンプタイミングの明確さ、重力の自然な挙動 |
| (2) 視覚的フィードバック | 落下速度の視覚変化、ジャンプ時のスコア表示（高速落下ボーナス）、壁通過の継続的フィードバック |
| (3) リスク・リワード | 長時間落下で高得点 vs 衝突リスク、ギリギリまで落下してジャンプで最大化、視界制限で予測要求 |
| (4) 斬新なメカニクス | 落下速度スコア化（vy^2 * d^2）、視界制限による予測プレイ、位置依存スクロール調整（10-30範囲維持） |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| #player-limited_vision | スパイク表示が-99～99にクランプ、上方の障害物が見えない、出現位置予測必須 | パターン記憶と予測、リズム感覚、見えない危険への対応、習熟で先読み可能 |
| #on_pressed-jump | 落下中（vy > 0）のみジャンプ可能（vy = -1）、上昇中は無効、落下速度でスコア獲得 | 落下タイミング判断、高速落下でハイリスク・ハイリターン、ジャンプ制限で計画的プレイ |
| #field-spike | 複数連結スパイク（2-4個）が上から降下、左右ジグザグ配置（反転間隔）、間隔99-199 | 回避ルート選択、ジグザグパターン読み、連結長さで隙間変動、予測と反応の混合 |
| #field-auto_scroll | 上スクロール、プレイヤー位置で速度調整（y<10で減速、y>30で加速）、10-30範囲維持 | 位置制御の間接的フィードバック、高度維持圧力、スクロール速度と落下速度の競争 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | スパイクを味方足場に変換、タップで一時的に実体化、空中ジャンプ代わりにリソース管理 |
| Combine (結合) | スパイク色を複数種類に分け、色に応じて通過可能・即死・減速効果、色判断で戦略変化 |
| Modify (修正) | 落下速度に上限追加、超過で制御不能、ジャンプタイミングとリスク管理のバランス調整 |

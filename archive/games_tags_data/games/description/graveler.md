# GRAVELER (graveler)

**タグ**: field-gravity, on_holding-reverse_state, field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 長押し（重力反転） |
| 挙動 | 壁の隙間を飛行。通常は下向き重力、長押しで上向き重力に反転。コインを集めて倍率上昇 |
| 終了条件 | 壁（青色）に接触 |
| スコア | コイン取得時に倍率 × 1点。倍率はコイン取得で+1、ミスで-1 |
| 難易度 | 時間経過でスクロール速度増加、BGMテンポ上昇 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player | char("a") | 重力で上下に移動。長押しで重力反転（上向き） | 壁接触: ゲームオーバー |
| walls（壁） | rect(11, height) blue | 左にスクロール。上下に隙間（width）がある | - |
| gravity lines | rect(10, 1) cyan/purple | 壁の内側に表示される重力方向の視覚化。長押しで色と方向が変わる | - |
| coins | text("o") yellow | 壁の隙間に出現。3〜7個の連続配置 | 取得: 倍率加算、スコア獲得 |
| spikes | text("x") red | 壁の隙間に出現。コイン群の後に1個 | 接触: ゲームオーバー |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 長押しで「上に引っ張られる」重力反転。重力ラインで方向が視覚化。壁の隙間を通過する明確な目標 |
| (2) 視覚的フィードバック | 重力ライン（cyan/purple）の色と方向で状態を表示。コイン取得とスパイク接触の音と演出。BGMテンポの上昇で緊張感 |
| (3) リスク・リワード | コインを集めると倍率上昇で高得点だが、ミスで倍率減少。スパイクを避けつつコインを集める判断 |
| (4) 斬新なメカニクス | 重力反転と横スクロールの組み合わせ。倍率システムでコイン収集の動機付け。壁の隙間とプレイヤーの位置が動的に変化 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| field-gravity | 重力が常に作用し、プレイヤーを上下に引っ張る | 重力の管理が必須。長押しのタイミングとリリースで高さをコントロール |
| on_holding-reverse_state | 長押しで重力が反転（通常: 下向き → 長押し: 上向き） | 状態反転で精密な高さ調整。壁の隙間に応じて適切に切り替える習熟要素 |
| field-auto_scroll | 自動的に左にスクロール | 常に前進し、停滞できない。スクロール速度に応じた判断が必要 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 重力反転を「磁力反転」に変更。壁に引き寄せられる/反発する |
| Combine (結合) | コインの色に応じて倍率ボーナスが異なる「カラーコイン」システム |
| Modify (修正) | 壁が回転し、隙間が斜めになる。重力方向と壁の角度の二重管理 |

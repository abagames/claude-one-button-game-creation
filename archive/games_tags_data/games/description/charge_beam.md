# CHARGE BEAM (charge_beam)

**タグ**: on_holding-charge, field-1D, obstacle-penalty

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 長押しでチャージ / 離してファイア |
| 挙動 | 固定位置からビームを発射、チャージ量でビームサイズ変化、コインを吸引し敵を撃破 |
| 終了条件 | 敵がプレイヤーに衝突 |
| スコア | コイン取得で倍率（×2増加、最大64）、敵撃破で倍率×サイズ（+1増加） |
| 難易度 | 時間経過でスクロール速度増加、チャージ速度増加（1.5×difficulty） |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player | char("a") | 固定位置(x=10)、ビーム発射 | 敵と衝突で終了 |
| beam | char("d"/"e") | チャージ量でサイズ変化（1-5段階以上）、右方向に進む（2.5×difficulty） | - |
| coin | char("c") 黄 | 自動スクロール、敵より手前なら吸引される（加速度-0.1） | +coinMultiplier点（倍率×2） |
| enemy | char("b") 赤 | サイズ1-5、3-9個の群れ、自動スクロール | +enemyMultiplier×size点（倍率+1） |
| penalty | text("<") 赤 | コインをビームで撃つとスクロール速度+0.5、時間で減衰-0.02 | スクロール加速 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | チャージバーの視覚化、コインと敵の色分け（黄/赤）、1D横スクロールのシンプルな構成 |
| (2) 視覚的フィードバック | チャージ量の段階的表示、ペナルティ矢印、倍率表示、コイン吸引の動き、パーティクル効果 |
| (3) リスク・リワード | コインをビームで撃つペナルティ（速度増加）、大きな敵を小ビームで撃つリスク、コイン倍率の指数的増加 |
| (4) 斬新なメカニクス | コイン吸引システム（敵より手前のコインは自動取得）、チャージ量によるビームサイズ変化、ペナルティによるスクロール加速 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| on_holding-charge | 長押しでチャージ量増加（1.5×difficulty/フレーム）、ビームサイズ1-5段階以上 | 敵のサイズに合わせたチャージ量の調整、過剰チャージによるコイン誤射リスク、チャージ時間と敵接近のトレードオフ |
| field-1D | 横スクロールのみ、プレイヤーは固定位置、オブジェクトは右から左へ移動 | シンプルな視線移動、タイミングに集中、スクロール速度の変化による難易度調整 |
| obstacle-penalty | コインをビームで撃つとペナルティ（速度+0.5、倍率×2、最大64）、ペナルティ矢印表示 | コイン誤射の回避戦略、ペナルティ累積による緊迫感、速度増加による難易度上昇 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | コイン吸引を磁石システムに変更 / チャージをオートチャージに変更して離すタイミングに集中 |
| Combine (結合) | 複数のビーム発射方向（上下） / 敵の種類を増やして特殊効果を追加 |
| Modify (修正) | チャージ量の段階をより細かく / ペナルティの減衰速度を変更 / コイン倍率の上限を調整 |

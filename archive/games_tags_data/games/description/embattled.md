# EMBATTLED (embattled)

**タグ**: on_holding-defend, rule-friendly_fire, player-reciprocate, on_pressed-turn

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | タップで方向転換 / 長押しで防御壁展開 |
| 挙動 | 自動で上下に往復。長押しで左右に防御壁を展開し、移動停止 |
| 終了条件 | 敵タンクまたは敵弾に接触 |
| スコア | 味方誤射で敵タンク撃破時にmultiplier値獲得 |
| 難易度 | タンク移動・砲塔旋回速度上昇、出現頻度増加、防御壁展開時間短縮 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player | char(a,b) | 自動で上下往復。タップで反転、長押しで停止&防御壁 | タンク/弾接触でゲームオーバー |
| defense wall | box×2 | 長押し10フレーム以上で左右に出現 | 敵弾を防御 |
| tank (red/purple) | bar + bar | 2陣営。相手陣営と防御壁のプレイヤーを狙って移動・発砲 | 敵陣営弾で撃破時に+multiplier点 |
| bullet | bar | タンクから発射 | 防御壁で消滅 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 赤と紫の2陣営、プレイヤーは青/水色。防御壁の有無で色が変化し状態が明確 |
| (2) 視覚的フィードバック | 防御壁展開時に色変化(青→水色)と音。multiplier値が左上に表示され目標を明示 |
| (3) リスク・リワード | 防御壁で安全確保し敵同士の戦闘を誘発するか、壁なしで機動的に回避するか |
| (4) 斬新なメカニクス | プレイヤーは直接攻撃せず、2陣営の「誤射」を誘発して得点。防御壁がタンクの標的になり戦闘を引き起こす |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| on_holding-defend | 長押しで防御壁を展開 | 防御と移動停止のトレードオフ。壁は敵の標的になり、誤射を誘発する餌としても機能 |
| rule-friendly_fire | 敵陣営同士が互いを撃破可能 | プレイヤーは直接攻撃せず、敵同士の戦闘を利用。戦場の交通整理が主な役割 |
| player-reciprocate | 上下に自動往復移動 | 限定された制御。プレイヤーは反転タイミングと停止位置の選択のみに集中 |
| on_pressed-turn | タップで移動方向反転 | 画面端到達時も自動反転するため、タップは戦術的な位置調整に使用 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 防御壁を「磁場フィールド」に置き換え、弾道を曲げて敵同士に誘導。直接防御はしない |
| Combine (結合) | rule:combo_multiplierを追加し、短時間内の連続誤射撃破でボーナス。戦闘誘発の密度が重要に |
| Modify (修正) | 3陣営に拡張し、三つ巴の戦闘。プレイヤーは陣営バランスを調整しカオスを管理 |

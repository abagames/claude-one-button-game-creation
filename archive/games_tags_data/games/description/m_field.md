# M FIELD (m_field)

**タグ**: #weapon-time_limit, #weapon-explosion, #rule-chain, #rule-combo_multiplier, #rule-friendly_fire, #on_pressed-jump, #player-step_on, #field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 押す（ジャンプ）/ 長押し（加速） |
| 挙動 | 地雷原を走り抜け、地雷を踏んで起動させ、爆発前に敵を巻き込んで倒す |
| 終了条件 | 地雷の爆発に巻き込まれる、または敵に空中/側面衝突するとゲームオーバー |
| スコア | 地雷の爆発で敵を倒すとmultiplier点（1→2→4→8→16→32→64）、地雷を踏むとmultiplier=1にリセット |
| 難易度 | スクロール速度、ジャンプ力、地雷のタイマー速度が時間経過で増加 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player | char(a/b) | 2段ジャンプ可能、Hold時に加速 | 敵に上から着地→敵を反発、横/下から→終了 |
| mine | box(6,3) | 踏むと60tickのタイマー起動、点滅後に爆発 | 踏む→タイマー起動＋multiplier=1、爆発範囲→終了 |
| enemy | char(c/d) | 左右から出現、プレイヤーが地上にいると反転して追跡 | 爆発に巻き込むと+multiplier点、プレイヤー接触→終了 |
| explosion | rect(拡大縮小) | 約30tickの間、sin波で横幅が変化する赤い範囲 | プレイヤー接触→終了、敵接触→得点 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 地雷（紫）、爆発（赤）、敵（紫）という色分けで役割が明確。地雷の点滅が危険を視覚化 |
| (2) 視覚的フィードバック | 地雷を踏むと「hit」音、点滅時に「laser」音、爆発時に「explosion」音＋パーティクル。敵を倒すと「powerUp」音＋multiplier表示で連鎖の達成感 |
| (3) リスク・リワード | 地雷を踏むとmultiplierリセットだが、敵を倒すにはあえて地雷を起動する必要。タイミングを誤ると自爆、成功すれば指数関数的に得点増加 |
| (4) 斬新なメカニクス | 障害物（地雷）を攻撃手段として利用する逆転の発想。敵が地上のプレイヤーを追跡するAIにより、地雷の位置と敵の位置を計算する戦略性 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| #weapon-time_limit | 地雷を踏むと約60tickのタイマーが起動し、時間経過で爆発 | タイマーの残り時間を把握し、敵を誘導して爆発範囲に導く計画性が必要 |
| #weapon-explosion | 地雷の爆発が広範囲の攻撃手段 | 複数の敵を1回の爆発で倒せる可能性、連鎖を狙う戦略 |
| #rule-chain | 複数の地雷を連続で起動し、爆発の連鎖反応を作る | 地雷の配置を先読みし、連鎖的に敵を倒す高度なプレイ |
| #rule-combo_multiplier | multiplierが2倍ずつ増加（最大64倍） | 地雷を踏まずに敵を倒し続けるか、リセット覚悟で地雷を起動するかの判断 |
| #rule-friendly_fire | プレイヤーも爆発に巻き込まれると死亡 | 自分が起動した地雷から逃げるタイミングの判断が生死を分ける |
| #on_pressed-jump | 2段ジャンプで地雷を飛び越える | 地雷を避けるか起動するか、ジャンプの使い分けが戦略の核心 |
| #player-step_on | 地雷を踏むことで起動する接触判定 | 意図的に踏む/踏まないの選択が常に発生 |
| #field-auto_scroll | プレイヤーが右に進むと画面スクロール | 前進し続けることが要求され、後退して爆発を避ける選択肢が制限される |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 地雷を「罠」に変更し、プレイヤーが手動で設置するタワーディフェンス風に |
| Combine (結合) | 敵の種類を増やし、爆発に強い敵や、爆発を吸収して巨大化する敵を追加 |
| Modify (修正) | 地雷の起爆タイミングをボタン操作で制御可能にし、より戦略的な爆破タイミングの選択を追加 |

# CAST N (cast_n)

**タグ**: on_released-throw, obstacle-penalty, on_holding-adjust_angle, rule-time_limit, weapon-artillery, field-water

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 長押しで力調整 / 離してキャスト / タップで引き上げ |
| 挙動 | 釣り糸を投げて魚を捕まえ、引き上げて得点、水位を維持する |
| 終了条件 | 水位が陸地より高くなり、フックが陸地に引っかかる |
| スコア | 青い魚を釣ると倍率分の得点、赤い魚で-1点、倍率は魚を釣るたびに+1 |
| 難易度 | 時間経過で水位が下がる（0.01×√difficulty/フレーム）、投擲・引き上げ速度が増加 |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| hook | char("a") | 20個のノードで構成される釣り糸の先端、放物線を描いて飛行、水中では減速 | - |
| line | line(2px) | 各ノード間を接続、物理シミュレーション（重力、慣性、距離制約） | - |
| fish (blue) | char("b") 青 | 水中を左右に移動、3-8匹の群れで出現、フックに触れると引き上げられる | +multiplier点、水位+1 |
| fish (red) | char("b") 赤 | 青い魚より深い位置に出現、速度0.3倍、引き上げられる | -1点、水位-5 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | 釣りという直感的なモチーフ、色分け（青=得点、赤=ペナルティ）、陸地・水面・水中の3層構造が明確 |
| (2) 視覚的フィードバック | 水位の視覚的変化、釣り糸の物理的な動き、倍率表示、魚の群れによる視覚的密度 |
| (3) リスク・リワード | 赤い魚を避けながら青い魚を釣る判断、深い位置の魚を狙うリスク、水位管理の戦略性 |
| (4) 斬新なメカニクス | 水位が終了条件（時間経過で減少）、物理シミュレーションの釣り糸（20ノード）、倍率システムと水位回復の相反関係 |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| on_released-throw | 長押し中に力が増加(1-3)、角度固定(0.1 - power×0.2)、離すとキャスト | 力加減のタイミング判断、遠投と精密投擲の選択、最大値(3)で自動キャスト |
| obstacle-penalty | 赤い魚を釣ると-1点、水位-5（ゲームオーバーに近づく） | 赤い魚の回避戦略、深い位置の魚を狙うリスク、水位危機時の慎重なプレイ |
| on_holding-adjust_angle | 長押し中に力と角度が連動変化（0.05×√difficulty/フレーム） | 狙った位置への精密投擲、力と角度の同時調整による習熟要素 |
| rule-time_limit | 水位が時間経過で下がる、水位が陸地を超えると終了 | 常に魚を釣り続ける時間的プレッシャー、水位回復の戦略的重要性 |
| weapon-artillery | 放物線を描いて投擲、水中で減速（速度×0.1） | 弾道計算の習熟、水面への入水タイミング、遠距離への投擲戦略 |
| field-water | 水面(y=40初期値)で物理挙動変化、重力と速度減衰が異なる | 空中と水中の異なる物理法則、水位の視覚的フィードバック、3層構造の戦略性 |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | 釣りを射撃に変えて空中の敵を狙う / 水位を体力ゲージに変更して回復アイテムを集める |
| Combine (結合) | 複数の釣り糸を同時に操作 / 魚の種類を増やして特殊効果を追加（速度変化、水位大幅回復など） |
| Modify (修正) | 水位の下降速度を加速させて緊迫感を高める / 釣り糸の長さを可変にして戦略性を追加 / 赤い魚のペナルティを強化 |

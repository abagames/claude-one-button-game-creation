# COUNTER B (counter_b)

**タグ**: rule-combo_multiplier, weapon-interference, on_holding-shoot, field-auto_scroll

## 1. コア・メカニクス

| 項目 | 内容 |
|:---|:---|
| 入力 | 長押し |
| 挙動 | ビームを伸ばし、敵のビームと交差させてカウンター（紫の円）を発生、敵を引き寄せて撃破 |
| 終了条件 | プレイヤーが画面左端（x<0）を超える |
| スコア | カウンターで敵を撃破すると倍率分の得点、倍率×2（最大64） |
| 難易度 | 時間経過で敵の速度増加、出現頻度増加、ビーム速度増加（4×√difficulty） |

## 2. オブジェクト仕様

| 名前 | 形状 | 動作 | 衝突時 |
|:---|:---|:---|:---|
| player | box(5,3) + box(3,2) 青 | 長押しで減速（0.2）、離すと加速（2）、画面スクロール制御 | 敵ビームでダメージ |
| playerBeam | rect(length,3) + box(5) 薄青/青 | 長押しで伸長（4×√difficulty）、カウンター発生中は固定 | - |
| enemy | bar(2,3) + bar(1,2) 黒 | 様々な角度で出現、プレイヤー方向へ移動、カウンターに引き寄せられる | ビーム/カウンターで撃破 |
| enemyBeam | line + box(5) 薄赤/赤 | 発射前チャージ(-20×√difficulty)、発射後伸長（速度×0.2） | プレイヤービームで干渉 |
| counter | arc(radius) 紫 | プレイヤービームと敵ビームの交差点、長押しで拡大、離すと縮小 | 敵撃破 |

## 3. デザインガイド分析

| 原則 | 評価 |
|:---|:---|
| (1) シンプルさと直感性 | ビーム同士の干渉という物理的イメージ、色分け（青=プレイヤー、赤=敵、紫=カウンター） |
| (2) 視覚的フィードバック | カウンターのパーティクル、ビームの伸長アニメーション、倍率表示、無敵時間の点滅 |
| (3) リスク・リワード | カウンター発生のタイミング判断、カウンター維持の長押しリスク、連続撃破での倍率増加 |
| (4) 斬新なメカニクス | ビーム干渉（interference）によるカウンター発生、カウンターの半径制御、敵の引き寄せ、ダメージで画面左へ押し戻し |

## 4. タグ詳細

| タグ | 役割 | 戦略的意義 |
|:---|:---|:---|
| rule-combo_multiplier | カウンターで連続撃破すると倍率×2（最大64）、カウンター失敗で倍率リセット | 連続撃破の戦略性、倍率維持のプレッシャー、高倍率への習熟 |
| weapon-interference | プレイヤービームと敵ビームの干渉でカウンター発生、干渉点でエネルギー円を生成 | 干渉タイミングの制御、複数敵の同時処理、ビーム長さの調整 |
| on_holding-shoot | 長押しでビーム伸長（4×√difficulty）、カウンター中は半径拡大（1×√difficulty） | ビーム長さの精密制御、カウンター半径の動的調整、長押し時間の最適化 |
| field-auto_scroll | プレイヤー位置（x-30）に応じて画面スクロール、ダメージで左へ押し戻し | 前進のプレッシャー、ダメージペナルティの累積、画面左端でゲームオーバー |

## 5. 変奏ヒント

| 手法 | アイデア |
|:---|:---|
| Substitute (代用) | カウンターを反射に変更 / ビーム干渉を磁場に変更 |
| Combine (結合) | 複数のビーム発射方向 / 敵の種類を増やして異なる干渉パターンを追加 |
| Modify (修正) | カウンターの半径変化速度を調整 / 倍率の上限を変更 / ダメージペナルティを強化 |
